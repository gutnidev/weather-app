(function(e){function t(t){for(var n,i,s=t[0],c=t[1],u=t[2],p=0,f=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/weather-app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"08c1":function(e,t,r){"use strict";var n=r("7c6a"),a=r.n(n);a.a},"4d2a":function(e,t,r){"use strict";var n=r("ca49"),a=r.n(n);a.a},5016:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("AppDialog"),r("ErrorConponent"),r("AppHeader"),r("AppContent")],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"header"},[r("nav",{staticClass:"nav"},[r("div",{staticClass:"lang-wrap"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.weatherLang,expression:"weatherLang"}],staticClass:"langSelect",attrs:{name:"langSelect"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.weatherLang=t.target.multiple?r:r[0]}}},e._l(e.langSelect,(function(t,n){return r("option",{key:n,domProps:{value:n}},[e._v(" "+e._s(t)+" ")])})),0)])])])},s=[],c=r("5530"),u=r("2f62"),l={name:"AppHeader",data:function(){return{langSelect:{ru:"Русский",ua:"Українська",en:"English"}}},methods:Object(c["a"])({},Object(u["b"])("weather",["setWeatherLang"])),computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])("weather",["lang"])),{},{weatherLang:{get:function(){return this.lang},set:function(e){this.setWeatherLang(e)}}})},p=l,f=(r("4d2a"),r("2877")),g=Object(f["a"])(p,i,s,!1,null,"62dab5a5",null),d=g.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.degree?r("div",{staticClass:"wrap"},[r("div",{staticClass:"location"},[r("div",{staticClass:"img-wrap"},[r("img",{staticClass:"icon",attrs:{src:e.computedImg,alt:"lala"}})]),r("h1",{staticClass:"location__timezone"},[e._v(e._s(e.city))])]),r("div",{staticClass:"temperature"},[r("div",{staticClass:"temperature__degree__section"},[r("h2",{staticClass:"temperature__degree"},[e._v(e._s(e.degree))]),r("span",{staticClass:"celsium"},[e._v("℃")])]),r("div",{staticClass:"temperature__description"},[e._v(e._s(e.weatherDescription))])])]):e._e(),e.degree?e._e():r("ContentFakeContent")],1)},v=[],m=(r("a4d3"),r("e01a"),r("a15b"),r("ac1f"),r("1276"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"location"},[n("div",{staticClass:"img-wrap"},[n("img",{staticClass:"icon",attrs:{src:r("fa5e"),alt:"lala"}})]),n("div",{staticClass:"timezone-wrap"},[n("h1",{staticClass:"location__timezone"},[e._v("Ищу тебя на карте")]),n("span",{staticClass:"dots"},[e._v(".")])])]),n("div",{staticClass:"temperature"},[n("div",{staticClass:"temperature__degree__section"},[n("h2",{staticClass:"temperature__degree"},[e._v("Замеряю температуру")]),n("span",{staticClass:"dots"},[e._v(".")])]),n("div",{staticClass:"temperature__description"},[n("p",{staticClass:"temperature__description-article"},[e._v("Смотрю в окно")]),n("span",{staticClass:"dots"},[e._v(".")])])])])}],A={name:"ContentFakeContent"},E=A,_=(r("bf64"),Object(f["a"])(E,m,w,!1,null,"093d01ff",null)),b=_.exports,R={name:"AppContent",components:{ContentFakeContent:b},methods:{},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])("weather",["image","degree","description","city"])),{},{computedImg:function(){return this.weatherImage?this.weatherImage:r("8ac4")},weatherDescription:function(){var e=this.description;return e=e.split(""),e[0]=e[0].toUpperCase(),e=e.join(""),e}})},C=R,O=(r("fd45"),Object(f["a"])(C,h,v,!1,null,"3cfed05d",null)),I=O.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"popup",class:{opened:e.isError.errorStatus}},[r("div",{staticClass:"popup-body"},[r("h2",{staticClass:"title"},[e._v("Произошла ошибка")]),r("div",{staticClass:"content"},[e._v(" "+e._s(e.isError.errorMessage)+" ")])])])},T=[],y={name:"ErrorConponent",data:function(){return{opened:this.isError}},computed:Object(c["a"])({},Object(u["c"])(["isError"]))},j=y,x=(r("08c1"),Object(f["a"])(j,S,T,!1,null,"c893c0ec",null)),B=x.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"popup-body",class:{open:e.isDialog.dialogStatus},on:{click:function(t){return e.setDialogStatus(!1)}}},[r("p",{staticClass:"popup-text"},[e._v(" "+e._s(e.isDialog.dialogMessage)+" ")])])},G=[],L={name:"AppDialog",methods:Object(c["a"])({},Object(u["b"])(["setDialogStatus"])),computed:Object(c["a"])({},Object(u["c"])(["isDialog"]))},P=L,D=(r("8dbe"),Object(f["a"])(P,W,G,!1,null,"62377479",null)),N=D.exports,k={name:"App",components:{AppHeader:d,AppContent:I,ErrorConponent:B,AppDialog:N}},V=k,M=(r("5c0b"),Object(f["a"])(V,a,o,!1,null,null,null)),F=M.exports,q=r("9483");Object(q["a"])("".concat("/weather-app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d3b7"),r("96cf");var U=r("1da1"),Y=r("bc3a"),Q=r.n(Y),H="https://freegeoip.app/json/",K=Q.a.create({baseURL:H,headers:{"Content-Type":"application/json"}}),z=K,X={namespaced:!0,state:{user_INFO:null},getters:{userLocationInfo:function(e){return e.user_INFO}},mutations:{SET_INFO:function(e,t){e.user_INFO=t}},actions:{fetchUserLocationInfo:{root:!0,handler:function(e){return Object(U["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,z.get();case 4:return n=t.sent,r("SET_INFO",n.data),console.log(n.data),t.abrupt("return",n.data);case 10:return t.prev=10,t.t0=t["catch"](1),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()}}}},Z=(r("b0c0"),Q.a.create({baseURL:"https://api.openweathermap.org/data/2.5/weather",headers:{"Content-Type":"application/json; charset=utf-8"}}));function J(e){return e.params.appid="867c0eabe3592cf0b1ffd474ebaa667c",e.params.units="metric",e}Z.interceptors.request.use(J);var $=Z;function ee(){if(!localStorage.getItem("gutniWeatherApp"))return!1;var e=JSON.parse(localStorage.getItem("gutniWeatherApp"));return!!e&&e.lang}function te(e){var t=!1;localStorage.getItem("gutniWeatherApp")&&(t=JSON.parse(localStorage.getItem("gutniWeatherApp")),t&&(t.lang=e,localStorage.removeItem("gutniWeatherApp"))),t||(t={lang:e}),localStorage.setItem("gutniWeatherApp",JSON.stringify(t))}var re={getLocalLang:ee,setLocalLang:te},ne=re,ae={namespaced:!0,state:{weather_info:{},weather_image:{},weather_language:ne.getLocalLang(),weather_params:null},mutations:{SET_WEATHER_INFO:function(e,t){e.weather_info=t},SET_WEATHER_LANGUAGE:function(e,t){e.weather_language=t,e.weather_params&&(e.weather_params.lang=t),ne.setLocalLang(t)},SET_WEATHER_PARAMS:function(e,t){e.weather_params=t}},getters:{image:function(e){return!!e.weather_info.weather&&"http://openweathermap.org/img/wn/".concat(e.weather_info.weather[0].icon,".png")},degree:function(e){return!!e.weather_info.main&&"".concat(e.weather_info.main.temp)},description:function(e){return e.weather_info.weather&&e.weather_info.weather[0]?e.weather_info.weather[0].description:"Смотрим в окно..."},city:function(e){return e.weather_info.name?e.weather_info.name:"Ищем тебя..."},lang:function(e){var t=e.weather_language;return t}},actions:{setWeatherLang:function(e,t){var r=e.commit,n=e.dispatch;r("SET_WEATHER_LANGUAGE",t),n("fetchWeather")},fetchWeather:function(e){return Object(U["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,a=n.weather_params,t.prev=2,t.next=5,$.get("",{params:a});case 5:return o=t.sent,r("SET_WEATHER_INFO",o.data),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t["catch"](2),console.log(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},weatherInit:{root:!0,handler:function(e,t){return Object(U["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.dispatch,a=e.commit,t.lang||a("SET_WEATHER_LANGUAGE","en"),a("SET_WEATHER_LANGUAGE",t.lang),a("SET_WEATHER_PARAMS",t),r.abrupt("return",n("fetchWeather"));case 5:case"end":return r.stop()}}),r)})))()}}}};n["a"].use(u["a"]);var oe=new u["a"].Store({state:{InitError:{errorStatus:!1,errorMessage:"Не удалось получить информацию о местоположении."},dialogError:{dialogStatus:!1,dialogMessage:"Нужны точные данные? Включи местоположение!"}},mutations:{ACTIVATE_INIT_ERROR:function(e){e.InitError.errorStatus=!0},ACTIVATE_DIALOG_ERROR:function(e){e.dialogError.errorStatus=!0},SET_DIALOG_STATUS:function(e,t){e.dialogError.dialogStatus=t}},actions:{activateInitError:function(e){var t=e.commit;t("ACTIVATE_INIT_ERROR")},activateDialogError:function(e){var t=e.commit;t("ACTIVATE_DIALOG_ERROR")},setDialogStatus:function(e,t){var r=e.commit;t&&window.setTimeout((function(){r("SET_DIALOG_STATUS",!1)}),5e3),r("SET_DIALOG_STATUS",t)}},getters:{isError:function(e){return e.InitError},isDialog:function(e){return e.dialogError}},modules:{user:X,weather:ae}});function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return!1;var r=null;return r=e.lat&&e.lon?{lat:e.lat,lon:e.lon}:null,r||(r=e.city?{q:e.city}:null),r&&t&&(r.lang=t),r}function se(){return ce.apply(this,arguments)}function ce(){return ce=Object(U["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.navigator.geolocation){e.next=2;break}return e.abrupt("return",Promise.reject("NO_NAVIGATOR"));case 2:return t=!1,e.next=5,new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition((function(t){e({lat:t.coords.latitude,lon:t.coords.longitude})}),(function(e){return t(e),!1}))}),{timeout:1e3});case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),ce.apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return le=Object(U["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=ne.getLocalLang(),t||(t=window.navigator?window.navigator.language||window.navigator.systemLanguage||window.navigator.userLanguage:"ru",t=t.substr(0,2).toLowerCase()),r=!1,e.prev=3,e.next=6,se();case 6:r=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0),"NO_NAVIGATOR"!==e.t0&&1!==e.t0.code&&oe.dispatch("setDialogStatus",!0);case 13:if(r){e.next=21;break}return e.next=16,oe.dispatch("fetchUserLocationInfo");case 16:if(r=e.sent,r){e.next=21;break}return console.log(new Error("ВСё пропало,Шеф. Гипс снимают, клиент уезжает, погоды не будет!")),oe.dispatch("activateInitError"),e.abrupt("return",!1);case 21:if(n=ie(r,t),n){e.next=25;break}return oe.dispatch("activateInitError"),e.abrupt("return",!1);case 25:return e.next=27,oe.dispatch("weatherInit",n);case 27:return a=e.sent,a||oe.dispatch("activateInitError"),navigator.vibrate(200),e.abrupt("return",!0);case 31:case"end":return e.stop()}}),e,null,[[3,9]])}))),le.apply(this,arguments)}ue();var pe=oe;n["a"].config.productionTip=!1,new n["a"]({store:pe,render:function(e){return e(F)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"7c6a":function(e,t,r){},"8ac4":function(e,t){e.exports="data:image/png;base64,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"},"8dbe":function(e,t,r){"use strict";var n=r("f262"),a=r.n(n);a.a},"9c0c":function(e,t,r){},bf64:function(e,t,r){"use strict";var n=r("d293"),a=r.n(n);a.a},ca49:function(e,t,r){},d293:function(e,t,r){},f262:function(e,t,r){},fa5e:function(e,t,r){e.exports=r.p+"img/loader.728f9b4d.gif"},fd45:function(e,t,r){"use strict";var n=r("5016"),a=r.n(n);a.a}});
//# sourceMappingURL=app.1a108238.js.map